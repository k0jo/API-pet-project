# Приветствую!
## Здесь будут различные добычи с API по Рику и Морти.
  *И первое, что можно узнать: кто был самым частым персонажем в сериале кроме самого семейства?
  
  Для начала, попробуем подключиться и добыть датафрейм. Импортируем библиотеки.

    import requests
    import json
    import pandas as pd
    
  Ознакомившись с [документацией](https://rickandmortyapi.com/documentation/#get-all-characters) понимаем, что можно получить данные по всем персонажам добавив к запросу список с их *id*. Писать вручную 800 цифр многовато, поэтому:

    list_id = []
    for i in range(1,827):
        list_id.append(i)
    
  Создаём список циклом. Далее, пишем запрос и создаём из него датафрейм:
  
    req = requests.get('https://rickandmortyapi.com/api/character/'+str(list_id))
    df = pd.json_normalize(req.json())
    
Чтобы ответить на вопрос, нам не хватает кол-ва эпизодов в которых появлялся тот или иной персонаж. В датафрейме есть столбец со списками эпизодов с участием героя. Его мы и используем. Создадим столбец к кол-вом эпизодов, который будет рассчитываться таким образом: столбец со списками превращается в датафрейм, внутри этого дф считаем пустые ячейки и отнимаем их от 51 (общее кол-во эпизодов) для каждой строки.

    df['count_episode'] = 51-(pd.DataFrame(df['episode'].tolist()).isnull().sum(axis=1))
    
Теперь осортируем по эпизодам, оставим лишь пару столбцов и возьмём первые 10 значений:

    df[['name','count_episode']].sort_values(by='count_episode',ascending=False).head(10)
    
Джессика! Впрочем, это неудивительно. Удивительно, что есть ещё одна Бет. Да и Джерри не было 12 серий. Странно
